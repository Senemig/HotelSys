@{
    ViewData["Title"] = "Quartos";
    DateTime dtCheckIn;
    DateTime dtCheckOut;
}
@model List<Quarto>
@using System

<div class="text-center">
    @if (Model.Count > 0)
    {
        <h2>Lista de Quartos</h2>

        <table class="table table-hover">
            <thead class="thead-dark">
                <tr>
                    <th scope="col">Número</th>
                    <th scope="col">Situação</th>
                    <th scope="col">Cliente</th>
                    <th scope="col">Check In</th>
                    <th scope="col">Check Out</th>
                </tr>
            </thead>
            <tbody>
                @foreach (Quarto quarto in Model)
                {
                    if (quarto.Status == "Vazio")
                    {
                        <tr class="table-success" onclick="location.href='/Sistema/VerQuarto/@quarto.idQuarto'">
                            <td scope="row">@quarto.Numero</td>
                            <td>@quarto.Status.ToUpper()</td>
                            <td>
                                @if (quarto.cliente != null)
                                {
                                    @quarto.cliente.Nome.ToUpper()
                                }
                            </td>
                            <td>
                                @if (quarto.CheckIn != null)
                                {
                                    @quarto.CheckIn
                                }
                            </td>
                            <td>
                                @if (quarto.CheckOut != null)
                                {
                                    @quarto.CheckOut
                                }
                            </td>
                        </tr>
                    }
                    else
                    {
                        <tr class="table-warning" onclick="location.href='/Sistema/VerQuarto/@quarto.idQuarto'">
                            <td scope="row">@quarto.Numero</td>
                            <td>@quarto.Status.ToUpper()</td>
                            <td>
                                @if (quarto.cliente != null)
                                {
                                    @quarto.cliente.Nome.ToUpper()
                                }
                            </td>
                            <td>
                                @if (quarto.CheckIn != null)
                                {
                                    dtCheckIn = (DateTime)quarto.CheckIn;
                                    @dtCheckIn.ToShortDateString();
                                }
                            </td>
                            <td>
                                @if (quarto.CheckOut != null)
                                {
                                    dtCheckOut = (DateTime)quarto.CheckOut;
                                    @dtCheckOut.ToShortDateString();
                                }
                            </td>
                        </tr>
                    }
                }
            </tbody>
        </table>
    }
</div>
